{% comment %}
  Compact LED Technology Card with Tailwind CSS Only
  All LED info wrapped in a single card with proper spacing
{% endcomment %}

<div class="split-layout mb-8 flex flex-col lg:flex-row gap-6 lg:gap-8">
  <!-- Left Column: Before/After Slider -->
  <div class="slider-column flex-1">
    <div class="led-slider relative w-full rounded-xl bg-gray-50 shadow-lg overflow-hidden h-[400px] md:h-[450px] lg:h-[500px]" id="ledSlider">
      <div class="slider-inner relative w-full h-full">
        <img class="slider-after absolute top-0 left-0 w-full h-full object-cover" 
             src="{{ 'after.png' | asset_url }}" 
             alt="After 8 weeks of LED mask treatment"
             onerror="this.style.display='none'">
        
        <img class="slider-before absolute top-0 left-0 w-1/2 h-full object-cover z-10" 
             src="{{ 'before.jpg' | asset_url }}" 
             alt="Before using GlowPro LED mask"
             id="ledBeforeImg"
             onerror="this.style.display='none'"
             style="clip-path: inset(0 50% 0 0)">
        
        <div class="slider-line absolute top-0 left-1/2 h-full w-0.5 bg-white shadow-lg transform -translate-x-1/2 z-20" id="sliderLine"></div>
        
        <div class="slider-handle absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-white rounded-full cursor-ew-resize z-30 flex items-center justify-center shadow-lg transition-all duration-200 hover:scale-110" id="sliderHandle">
          <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M8 7l4-4 4 4M8 17l4 4 4-4M12 3v18"/>
          </svg>
        </div>
      </div>
    </div>
    
    <div class="slider-labels flex justify-between gap-2 mt-4">
      <div class="label-before flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg flex-1 justify-center">
        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
        <span class="text-sm font-medium text-gray-800">Before Treatment</span>
      </div>
      <div class="label-after flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg flex-1 justify-center">
        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
        <span class="text-sm font-medium text-gray-800">After 8 Weeks</span>
      </div>
    </div>
  </div>
  
  <!-- Right Column: Compact LED Technology Card -->
  <div class="info-column flex-1">
    <div class="led-card bg-white rounded-xl shadow-lg border border-gray-200 p-6 lg:p-6 h-full flex flex-col">
      <!-- Card Header -->
      <div class="card-header mb-6">
        <h3 class="card-title text-xl font-bold text-gray-900 mb-1">Advanced LED Technology</h3>
        <p class="card-subtitle text-sm text-gray-600">Professional Skin Therapy</p>
      </div>
      
      <!-- LED Grid - Compact Layout -->
      <div class="led-grid space-y-3 mb-6 flex-1">
        <!-- Red Light -->
        <div class="led-item flex items-start gap-3 p-3 bg-gray-50 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:translate-x-1">
          <div class="led-icon w-10 h-10 rounded-lg bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="8"/>
              <circle cx="12" cy="12" r="4" fill="currentColor"/>
            </svg>
          </div>
          <div class="led-content flex-1 min-w-0">
            <div class="flex items-baseline gap-2 mb-1">
              <h4 class="led-title text-sm font-semibold text-gray-900 truncate">Red Light</h4>
              <span class="led-subtitle text-xs text-red-600 font-medium whitespace-nowrap">Anti-Aging</span>
            </div>
            <p class="led-desc text-xs text-gray-600 leading-tight">Stimulates collagen production, reduces fine lines and wrinkles</p>
          </div>
        </div>
        
        <!-- Blue Light -->
        <div class="led-item flex items-start gap-3 p-3 bg-gray-50 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:translate-x-1">
          <div class="led-icon w-10 h-10 rounded-lg bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="8"/>
              <path d="M8 12h8" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <div class="led-content flex-1 min-w-0">
            <div class="flex items-baseline gap-2 mb-1">
              <h4 class="led-title text-sm font-semibold text-gray-900 truncate">Blue Light</h4>
              <span class="led-subtitle text-xs text-blue-600 font-medium whitespace-nowrap">Acne Treatment</span>
            </div>
            <p class="led-desc text-xs text-gray-600 leading-tight">Eliminates acne-causing bacteria, reduces inflammation</p>
          </div>
        </div>
        
        <!-- Green Light -->
        <div class="led-item flex items-start gap-3 p-3 bg-gray-50 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:translate-x-1">
          <div class="led-icon w-10 h-10 rounded-lg bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="8"/>
              <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <div class="led-content flex-1 min-w-0">
            <div class="flex items-baseline gap-2 mb-1">
              <h4 class="led-title text-sm font-semibold text-gray-900 truncate">Green Light</h4>
              <span class="led-subtitle text-xs text-green-600 font-medium whitespace-nowrap">Brightening</span>
            </div>
            <p class="led-desc text-xs text-gray-600 leading-tight">Reduces pigmentation, evens skin tone, enhances brightness</p>
          </div>
        </div>
        
        <!-- Yellow Light -->
        <div class="led-item flex items-start gap-3 p-3 bg-gray-50 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:translate-x-1">
          <div class="led-icon w-10 h-10 rounded-lg bg-gradient-to-br from-yellow-100 to-yellow-200 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="8"/>
              <path d="M12 8v8M8 12h8" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <div class="led-content flex-1 min-w-0">
            <div class="flex items-baseline gap-2 mb-1">
              <h4 class="led-title text-sm font-semibold text-gray-900 truncate">Yellow Light</h4>
              <span class="led-subtitle text-xs text-yellow-600 font-medium whitespace-nowrap">Calming</span>
            </div>
            <p class="led-desc text-xs text-gray-600 leading-tight">Reduces redness, soothes irritation, improves skin healing</p>
          </div>
        </div>
      </div>
      
      <!-- Stats Section -->
      <div class="stats-section pt-6 border-t border-gray-200">
        <h4 class="stats-title text-base font-semibold text-gray-900 mb-4">Treatment Details</h4>
        
        <div class="stats-grid grid grid-cols-3 gap-3 mb-4">
          <div class="stat-item text-center">
            <span class="stat-value block text-lg font-bold text-blue-600">10 min/day</span>
            <span class="stat-label block text-xs text-gray-600 mt-1">Treatment Time</span>
          </div>
          <div class="stat-item text-center">
            <span class="stat-value block text-lg font-bold text-blue-600">4-6 weeks</span>
            <span class="stat-label block text-xs text-gray-600 mt-1">Visible Results</span>
          </div>
          <div class="stat-item text-center">
            <span class="stat-value block text-lg font-bold text-blue-600">150+ LEDs</span>
            <span class="stat-label block text-xs text-gray-600 mt-1">LED Count</span>
          </div>
        </div>
        
        <div class="flex items-center gap-3 mb-3">
          <span class="fda-badge inline-flex items-center gap-1.5 bg-green-100 text-green-800 px-3 py-1.5 rounded-full text-xs font-medium">
            <svg class="w-3 h-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M5 13l4 4L19 7"/>
            </svg>
            FDA Cleared
          </span>
        </div>
        
        <p class="tech-note text-xs text-gray-600 leading-relaxed">
          Medical-grade LED technology used by dermatologists worldwide
        </p>
      </div>
    </div>
  </div>
</div>

<style>
  /* Minimal custom CSS for animations only */
  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .led-item {
    animation: slideIn 0.3s ease-out forwards;
    opacity: 0;
  }
  
  .led-item:nth-child(1) { animation-delay: 0.1s; }
  .led-item:nth-child(2) { animation-delay: 0.2s; }
  .led-item:nth-child(3) { animation-delay: 0.3s; }
  .led-item:nth-child(4) { animation-delay: 0.4s; }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const slider = document.getElementById('ledSlider');
  const beforeImg = document.getElementById('ledBeforeImg');
  const line = document.getElementById('sliderLine');
  const handle = document.getElementById('sliderHandle');
  let dragging = false;
  
  function moveSlider(x) {
    const rect = slider.getBoundingClientRect();
    let pos = ((x - rect.left) / rect.width) * 100;
    pos = Math.max(5, Math.min(pos, 95)); // Keep 5% margin
    
    beforeImg.style.clipPath = `inset(0 ${100 - pos}% 0 0)`;
    line.style.left = `${pos}%`;
    handle.style.left = `${pos}%`;
  }
  
  // Mouse events
  handle.addEventListener('mousedown', (e) => {
    e.preventDefault();
    dragging = true;
    handle.classList.add('scale-110');
  });
  
  slider.addEventListener('mousedown', (e) => {
    dragging = true;
    moveSlider(e.clientX);
    handle.classList.add('scale-110');
  });
  
  document.addEventListener('mousemove', (e) => {
    if (dragging) moveSlider(e.clientX);
  });
  
  document.addEventListener('mouseup', () => {
    dragging = false;
    handle.classList.remove('scale-110');
  });
  
  // Touch events
  handle.addEventListener('touchstart', (e) => {
    e.preventDefault();
    dragging = true;
  });
  
  slider.addEventListener('touchstart', (e) => {
    dragging = true;
    moveSlider(e.touches[0].clientX);
  });
  
  document.addEventListener('touchmove', (e) => {
    if (dragging) {
      e.preventDefault();
      moveSlider(e.touches[0].clientX);
    }
  });
  
  document.addEventListener('touchend', () => {
    dragging = false;
  });
  
  // Initialize
  moveSlider(window.innerWidth / 2);
});
</script>